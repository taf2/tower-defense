<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Desktop Tower Defense Revival</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #1a1a2e;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #e0e0e0;
        }
        h1 {
            font-size: 22px;
            margin-bottom: 10px;
            color: #c0c0c0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            letter-spacing: 3px;
            font-weight: 300;
        }
        #gameContainer {
            position: relative;
            display: inline-block;
        }
        canvas {
            border: 3px solid #333;
            border-radius: 4px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.6);
            display: block;
            touch-action: none;
        }
        #towerPanel {
            position: absolute;
            top: 50px;
            right: -215px;
            width: 200px;
            padding: 12px;
            background: rgba(20, 20, 40, 0.95);
            border: 1px solid #444;
            border-radius: 6px;
            display: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }
        #towerPanel h3 {
            margin: 0 0 8px 0;
            color: #90caf9;
            font-size: 15px;
            border-bottom: 1px solid #333;
            padding-bottom: 6px;
        }
        #towerStats {
            font-size: 13px;
            line-height: 1.7;
            color: #bbb;
        }
        /* Tower type selector */
        #towerSelector {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin: 8px 0 4px 0;
        }
        .tower-type-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 5px 9px;
            background: #2a2a4a;
            border: 2px solid #444;
            border-radius: 4px;
            cursor: pointer;
            color: #ccc;
            font-size: 11px;
            font-family: inherit;
            line-height: 1.3;
            transition: border-color 0.15s, background 0.15s;
        }
        .tower-type-btn:hover { background: #3a3a5a; border-color: #666; }
        .tower-type-btn.selected { border-color: #ffcc00; background: #3a3a5a; }
        .tower-type-btn.cant-afford { opacity: 0.35; }
        .tower-icon {
            display: inline-block;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 2px solid #222;
            flex-shrink: 0;
        }
        .tower-label { text-align: left; }
        /* Controls */
        #controls {
            margin-top: 8px;
            text-align: center;
        }
        button, select {
            margin: 3px;
            padding: 8px 16px;
            background: #2a2a4a;
            color: #e0e0e0;
            border: 1px solid #444;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            font-family: inherit;
            transition: background 0.2s, border-color 0.2s;
        }
        button:hover:not(:disabled) {
            background: #3a3a5a;
            border-color: #666;
        }
        button:disabled {
            opacity: 0.35;
            cursor: not-allowed;
        }
        button:active:not(:disabled) {
            background: #1a1a3a;
        }
        select {
            background: #2a2a4a;
        }
        select:focus { outline: 1px solid #666; }
        #upgradeButton {
            background: #2e5428;
            border-color: #4a8;
        }
        #upgradeButton:hover:not(:disabled) {
            background: #3e6a38;
        }
        #sellButton {
            background: #5a2828;
            border-color: #a44;
        }
        #sellButton:hover:not(:disabled) {
            background: #6a3838;
        }
        .ref-link {
            margin-top: 12px;
            font-size: 11px;
        }
        .ref-link a {
            color: #555;
            text-decoration: none;
        }
        .ref-link a:hover { color: #888; }

        /* Mobile responsive */
        @media (max-width: 860px) {
            h1 { font-size: 16px; margin-bottom: 6px; letter-spacing: 1px; }
            #gameContainer { width: 100%; }
            canvas {
                width: 100%;
                height: auto;
                border-width: 2px;
            }
            #towerPanel {
                position: absolute;
                top: auto;
                bottom: 0;
                left: 0;
                right: 0;
                width: auto;
                border-radius: 6px 6px 0 0;
                z-index: 10;
            }
            #towerSelector {
                flex-wrap: wrap;
                gap: 4px;
            }
            .tower-type-btn {
                min-height: 44px;
                padding: 6px 10px;
                font-size: 12px;
            }
            #controls {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 4px;
            }
            #controls button, #controls select {
                min-height: 44px;
                padding: 8px 12px;
                font-size: 13px;
            }
        }
        @media (max-width: 480px) {
            h1 { font-size: 13px; }
            .tower-type-btn { font-size: 11px; padding: 5px 7px; }
        }
    </style>
</head>
<body>
    <h1>DESKTOP TOWER DEFENSE</h1>
    <div id="gameContainer">
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        <div id="towerPanel">
            <h3 id="towerPanelTitle">Tower Info</h3>
            <p id="towerStats"></p>
            <button id="upgradeButton">Upgrade</button>
            <button id="sellButton">Sell</button>
        </div>
    </div>
    <div id="towerSelector">
        <button class="tower-type-btn selected" data-type="pellet">
            <span class="tower-icon" style="background: #5a8a3a;"></span>
            <span class="tower-label">Pellet<br>$30</span>
        </button>
        <button class="tower-type-btn" data-type="squirt">
            <span class="tower-icon" style="background: #2a6a9a;"></span>
            <span class="tower-label">Squirt<br>$80</span>
        </button>
        <button class="tower-type-btn" data-type="dart">
            <span class="tower-icon" style="background: #aa5030;"></span>
            <span class="tower-label">Dart<br>$100</span>
        </button>
        <button class="tower-type-btn" data-type="swarm">
            <span class="tower-icon" style="background: #8a5aa0;"></span>
            <span class="tower-label">Swarm<br>$120</span>
        </button>
        <button class="tower-type-btn" data-type="frost">
            <span class="tower-icon" style="background: #50a0b0;"></span>
            <span class="tower-label">Frost<br>$60</span>
        </button>
        <button class="tower-type-btn" data-type="bash">
            <span class="tower-icon" style="background: #a07030;"></span>
            <span class="tower-label">Bash<br>$90</span>
        </button>
    </div>
    <div id="controls">
        <button id="startButton">Start Game</button>
        <button id="resetButton">Reset</button>
        <button id="nextWaveButton" disabled>Next Wave</button>
        <button id="pauseButton" disabled>Pause</button>
        <button id="loadButton">Load Save</button>
        <select id="difficultySelect">
            <option value="easy">Easy (20s)</option>
            <option value="normal">Normal (10s)</option>
            <option value="hard">Hard (5s)</option>
        </select>
    </div>
    <audio id="enemyDeathSound" preload="auto">
        <source src="enemy-death.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-pellet" preload="auto">
        <source src="turret-shoot.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-squirt" preload="auto">
        <source src="squirt-shoot.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-dart" preload="auto">
        <source src="dart-shoot.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-swarm" preload="auto">
        <source src="swarm-shoot.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-frost" preload="auto">
        <source src="frost-shoot.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-bash" preload="auto">
        <source src="turret-shoot.mp3" type="audio/mpeg">
    </audio>
    <script src="game.js"></script>
</body>
</html>
